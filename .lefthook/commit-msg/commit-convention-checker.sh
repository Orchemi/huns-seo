#!/bin/bash

# Read the commit message from the file
COMMIT_MSG=$(head -n1 "$1")

# Define the regex pattern for validation
PATTERN='^(Install|Docs|Add|Feat|Fix|Draft|Style|Refactor|Chore|Rename|Remove):.*#.*$'

# Check if the commit message matches the pattern
if ! [[ $COMMIT_MSG =~ $PATTERN ]]; then
    cat << 'EOF'
ðŸ‘Ž ìž˜ëª»ëœ ì»¤ë°‹ ë©”ì„¸ì§€ìž…ë‹ˆë‹¤!

ì•„ëž˜ ì˜ˆì œë¥¼ ì°¸ê³ í•´ì£¼ì„¸ìš”
------------------------------------------------------
"(Prefix): ì»¤ë°‹ ë‚´ìš© #issue-number"

"Feat: êµ¬ê¸€ ë¡œê·¸ì¸ ê¸°ëŠ¥ ì¶”ê°€ #123"
------------------------------------------------------

ì‚¬ìš©ê°€ëŠ¥í•œ commitì˜ PrefixëŠ” ì•„ëž˜ì™€ ê°™ìŠµë‹ˆë‹¤.

=============== ë°˜ë“œì‹œ ì½œë¡ ì„ í•œ ê°œ(:) ì‚¬ìš©í•˜ê³  ë„ì–´ì“°ê¸° í›„ ë‚´ìš©ì„ ìž…ë ¥í•©ë‹ˆë‹¤. ===============

Install:          íŒ¨í‚¤ì§€ ì„¤ì¹˜
Docs:             ë¬¸ì„œ ìˆ˜ì •
Add:              ë‹¨ìˆœ íŒŒì¼ ì¶”ê°€
Feat:             ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶”ê°€
Fix:              ë²„ê·¸ ìˆ˜ì •
Draft:            ìž‘ì—… ì¤‘ì¸ ì»¤ë°‹
Style:            CSS ë° UI, ì½”ë“œ í¬ë§· ë³€ê²½, ì„¸ë¯¸ ì½œë¡  ëˆ„ë½, ì½”ë“œ ìˆ˜ì •ì´ ì—†ëŠ” ê²½ìš°
Refactor:         ì½”ë“œ ë¦¬íŒ©í† ë§ (ê¸°ëŠ¥ ë³€ê²½ X, ì½”ë“œ ê°€ë…ì„±, êµ¬ì¡°, í’ˆì§ˆ ê°œì„ ì˜ ê²½ìš°)
Chore:            ë¹Œë“œ ì—…ë¬´ ìˆ˜ì •, íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € ìˆ˜ì •
Rename:           íŒŒì¼ í˜¹ì€ í´ë”ëª…ì„ ìˆ˜ì •í•˜ê±°ë‚˜ ì˜®ê¸°ëŠ” ìž‘ì—…ë§Œì¸ ê²½ìš°
Remove:           íŒŒì¼ì„ ì‚­ì œí•˜ëŠ” ìž‘ì—…ë§Œ ìˆ˜í–‰í•œ ê²½ìš°

==================================================================================
EOF
    exit 1
else
    echo "ðŸ‘ ì»¤ë°‹ ë©”ì„¸ì§€ê°€ ì˜¬ë°”ë¥´ê²Œ ìž‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤!"
    exit 0
fi

